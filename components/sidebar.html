<!-- 
    OpsMind Sidebar Component
    This component is loaded dynamically into pages that require the sidebar navigation.
    The active link is determined based on the current page URL.
    Dependencies: Bootstrap 5, Bootstrap Icons
-->
<div class="sidebar" id="sidebar">
    <nav class="sidebar-nav">
        <!-- Main Navigation -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">Main</div>
            <a href="dashboard.html" class="sidebar-link" data-page="dashboard" data-roles="STUDENT,DOCTOR,ADMIN">
                <i class="bi bi-grid-1x2"></i>
                <span>Dashboard</span>
            </a>
            <a href="tickets.html" class="sidebar-link" data-page="tickets">
                <i class="bi bi-ticket-detailed"></i>
                <span>Tickets</span>
                <span class="sidebar-link-badge" id="ticketsBadge" style="display: none;">0</span>
            </a>
            <a href="workflows.html" class="sidebar-link" data-page="workflows" data-roles="TECHNICIAN,JUNIOR,SENIOR,SUPERVISOR,ADMIN">
                <i class="bi bi-diagram-3"></i>
                <span>Workflows</span>
            </a>
        </div>

        <!-- Management -->
        <div class="sidebar-section" data-roles="SENIOR,SUPERVISOR,ADMIN">
            <div class="sidebar-section-title">Management</div>
            <a href="#" class="sidebar-link" data-page="assets">
                <i class="bi bi-hdd-stack"></i>
                <span>Assets</span>
            </a>
            <a href="#" class="sidebar-link" data-page="knowledge">
                <i class="bi bi-book"></i>
                <span>Knowledge Base</span>
            </a>
            <a href="#" class="sidebar-link" data-page="sla">
                <i class="bi bi-speedometer2"></i>
                <span>SLA Policies</span>
            </a>
        </div>

        <!-- Workflow Management (Role-based) -->
        <div class="sidebar-section" id="workflowSection">
            <div class="sidebar-section-title">Workflow Management</div>
            <!-- Junior Technician Dashboard -->
            <a href="junior-dashboard.html" class="sidebar-link" data-page="junior-dashboard" data-roles="TECHNICIAN,JUNIOR,SENIOR,SUPERVISOR,ADMIN">
                <i class="bi bi-person-workspace"></i>
                <span>Technician Dashboard</span>
                <span class="sidebar-link-badge bg-primary" id="myTicketsBadge" style="display: none;">0</span>
            </a>
            <!-- Senior Technician Dashboard -->
            <a href="senior-dashboard.html" class="sidebar-link" data-page="senior-dashboard" data-roles="SENIOR,SUPERVISOR,ADMIN">
                <i class="bi bi-person-badge"></i>
                <span>Senior Dashboard</span>
                <span class="sidebar-link-badge bg-warning" id="escalatedBadge" style="display: none;">0</span>
            </a>
            <!-- Supervisor Dashboard -->
            <a href="supervisor-dashboard.html" class="sidebar-link" data-page="supervisor-dashboard" data-roles="SUPERVISOR,ADMIN">
                <i class="bi bi-kanban"></i>
                <span>Supervisor Dashboard</span>
            </a>
        </div>

        <!-- AI & Automation -->
        <div class="sidebar-section">
            <div class="sidebar-section-title">AI & Automation</div>
            <a href="ai-insights.html" class="sidebar-link" data-page="ai-insights" data-roles="SUPERVISOR,ADMIN">
                <i class="bi bi-lightbulb"></i>
                <span>AI Insights</span>
            </a>
            <a href="chatbot.html" class="sidebar-link" data-page="chatbot">
                <i class="bi bi-robot"></i>
                <span>AI Chatbot</span>
            </a>
            <a href="#" class="sidebar-link" data-page="automations" data-roles="SENIOR,SUPERVISOR,ADMIN">
                <i class="bi bi-lightning-charge"></i>
                <span>Automations</span>
            </a>
        </div>

        <!-- Reports -->
        <div class="sidebar-section" data-roles="SENIOR,SUPERVISOR,ADMIN">
            <div class="sidebar-section-title">Reports</div>
            <a href="#" class="sidebar-link" data-page="analytics" data-roles="SENIOR,SUPERVISOR,ADMIN">
                <i class="bi bi-graph-up"></i>
                <span>Analytics</span>
            </a>
            <a href="#" class="sidebar-link" data-page="reports" data-roles="SENIOR,SUPERVISOR,ADMIN">
                <i class="bi bi-file-earmark-bar-graph"></i>
                <span>Reports</span>
            </a>
        </div>

        <!-- Settings (shown only for admins) -->
        <div class="sidebar-section" id="adminSection" data-roles="ADMIN">
            <div class="sidebar-section-title">Administration</div>
            <a href="users.html" class="sidebar-link" data-page="users" data-roles="ADMIN">
                <i class="bi bi-people"></i>
                <span>Users</span>
            </a>
            <a href="#" class="sidebar-link" data-page="settings" data-roles="ADMIN">
                <i class="bi bi-gear"></i>
                <span>Settings</span>
            </a>
        </div>
    </nav>
</div>

<!-- Sidebar Backdrop for Mobile -->
<div class="sidebar-backdrop" id="sidebarBackdrop"></div>
